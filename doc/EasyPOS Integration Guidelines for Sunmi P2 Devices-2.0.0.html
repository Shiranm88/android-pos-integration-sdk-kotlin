<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<title>Document information</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;-webkit-tap-highlight-color:transparent}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge .cm {
  color: #999988;
  font-style: italic;
}
pre.rouge .cp {
  color: #999999;
  font-weight: bold;
}
pre.rouge .c1 {
  color: #999988;
  font-style: italic;
}
pre.rouge .cs {
  color: #999999;
  font-weight: bold;
  font-style: italic;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cpf {
  color: #999988;
  font-style: italic;
}
pre.rouge .err {
  color: #a61717;
  background-color: #e3d2d2;
}
pre.rouge .gd {
  color: #000000;
  background-color: #ffdddd;
}
pre.rouge .ge {
  color: #000000;
  font-style: italic;
}
pre.rouge .gr {
  color: #aa0000;
}
pre.rouge .gh {
  color: #999999;
}
pre.rouge .gi {
  color: #000000;
  background-color: #ddffdd;
}
pre.rouge .go {
  color: #888888;
}
pre.rouge .gp {
  color: #555555;
}
pre.rouge .gs {
  font-weight: bold;
}
pre.rouge .gu {
  color: #aaaaaa;
}
pre.rouge .gt {
  color: #aa0000;
}
pre.rouge .kc {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kd {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kn {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kp {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kr {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kt {
  color: #445588;
  font-weight: bold;
}
pre.rouge .k, pre.rouge .kv {
  color: #000000;
  font-weight: bold;
}
pre.rouge .mf {
  color: #009999;
}
pre.rouge .mh {
  color: #009999;
}
pre.rouge .il {
  color: #009999;
}
pre.rouge .mi {
  color: #009999;
}
pre.rouge .mo {
  color: #009999;
}
pre.rouge .m, pre.rouge .mb, pre.rouge .mx {
  color: #009999;
}
pre.rouge .sa {
  color: #000000;
  font-weight: bold;
}
pre.rouge .sb {
  color: #d14;
}
pre.rouge .sc {
  color: #d14;
}
pre.rouge .sd {
  color: #d14;
}
pre.rouge .s2 {
  color: #d14;
}
pre.rouge .se {
  color: #d14;
}
pre.rouge .sh {
  color: #d14;
}
pre.rouge .si {
  color: #d14;
}
pre.rouge .sx {
  color: #d14;
}
pre.rouge .sr {
  color: #009926;
}
pre.rouge .s1 {
  color: #d14;
}
pre.rouge .ss {
  color: #990073;
}
pre.rouge .s, pre.rouge .dl {
  color: #d14;
}
pre.rouge .na {
  color: #008080;
}
pre.rouge .bp {
  color: #999999;
}
pre.rouge .nb {
  color: #0086B3;
}
pre.rouge .nc {
  color: #445588;
  font-weight: bold;
}
pre.rouge .no {
  color: #008080;
}
pre.rouge .nd {
  color: #3c5d5d;
  font-weight: bold;
}
pre.rouge .ni {
  color: #800080;
}
pre.rouge .ne {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nf, pre.rouge .fm {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nl {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nn {
  color: #555555;
}
pre.rouge .nt {
  color: #000080;
}
pre.rouge .vc {
  color: #008080;
}
pre.rouge .vg {
  color: #008080;
}
pre.rouge .vi {
  color: #008080;
}
pre.rouge .nv, pre.rouge .vm {
  color: #008080;
}
pre.rouge .ow {
  color: #000000;
  font-weight: bold;
}
pre.rouge .o {
  color: #000000;
  font-weight: bold;
}
pre.rouge .w {
  color: #bbbbbb;
}
pre.rouge {
  background-color: #f8f8f8;
}
</style>
</head>
<body class="book">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="_document_information">Document information</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Document Title</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">App-2-app Integration Guidelines for Sunmi P2 devices</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Classification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Confidential</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Draft</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.0.0</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Version</th>
<th class="tableblock halign-left valign-top">Changelog</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.0.0</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Initial version</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_document_information">Document information</a></li>
<li><a href="#_terminology">1. Terminology</a></li>
<li><a href="#_introduction">2. Introduction</a></li>
<li><a href="#_download_the_payplaza_apps">3. Download the PayPlaza apps</a></li>
<li><a href="#_payment_solution_overview">4. Payment solution overview</a>
<ul class="sectlevel2">
<li><a href="#_partner_application_payment_library_and_terminal_application">Partner application, payment library and Terminal application</a></li>
<li><a href="#_transaction_flow">Transaction Flow</a></li>
<li><a href="#_i18n_and_language_negotiation">I18n and language negotiation</a></li>
</ul>
</li>
<li><a href="#_development_guidelines">5. Development Guidelines</a>
<ul class="sectlevel2">
<li><a href="#_integration_mechanism">Integration Mechanism</a>
<ul class="sectlevel3">
<li><a href="#_passing_data_to_the_library_for_transaction_flow">Passing data to the library for Transaction flow</a></li>
</ul>
</li>
<li><a href="#_transactions_of_type_refund">Transactions of type "Refund"</a></li>
<li><a href="#_receiving_results">Receiving results</a>
<ul class="sectlevel3">
<li><a href="#_attributes_explanation_2">Attributes Explanation</a></li>
<li><a href="#_error_cases">Error Cases</a></li>
</ul>
</li>
<li><a href="#_dealing_with_unexpected_scenarios">Dealing with unexpected scenarios</a>
<ul class="sectlevel3">
<li><a href="#_requesting_transaction_information_for_an_existing_order_reference">Requesting transaction information for an existing order reference</a></li>
</ul>
</li>
<li><a href="#_receiving_request_receipt_as_transaction_result">Receiving REQUEST_RECEIPT as transaction result</a></li>
</ul>
</li>
<li><a href="#_other_operations_in_sdk">6. Other Operations in SDK</a>
<ul class="sectlevel2">
<li><a href="#_last_receipt_functionality">Last Receipt functionality</a></li>
<li><a href="#_day_totals_functionality">Day totals functionality</a></li>
<li><a href="#_request_info_functionality">Request Info functionality</a></li>
</ul>
</li>
<li><a href="#_technical_support">7. Technical Support</a></li>
<li><a href="#_simulator_test_scenarios">Appendix A: Simulator Test scenarios</a></li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_terminology">1. Terminology</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Term</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">App-2-app integration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integration between two applications, namely Partner and PayPlaza Terminal application, which are on the same Sunmi device</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Partner application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Android based application developed by the partner integrating with PayPlaza payment solution for payment acceptance</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PayPlaza Terminal application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Android based application which calls the PayPlaza Gateway to process the payment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sunmi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Payment terminal device manufacturer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Development Sunmi Payment device</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sunmi device that is used for development purposes and testing the application integration</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PayPlaza Android POS integration Library</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Android library that can be used in Partner applications to integrate with PayPlaza apps and perform payment transactions.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">2. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document explains the steps required to integrate the Partner application with the PayPlaza’s App-2-app Integration solution, using the PayPlaza android POS integration library on an Android based Sunmi payment device.</p>
</div>
<div class="paragraph">
<p>In order to be able to use this library, the integrator has the choice the following flavours:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Developing a pure native Android application that will include the library as dependency to start transactions and other operations on PayPlaza gateway.</p>
</li>
<li>
<p>Developing a hybrid Android application that uses Web Views, of which the native part of the application will include the PayPlaza Android POS integration library to start transactions and other operations on PayPlaza gateway.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
At this point in time, PayPlaza does not support the library to be used on a browser application.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_download_the_payplaza_apps">3. Download the PayPlaza apps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following steps describe how to download the PayPlaza Terminal application for the Development Sunmi Payment device.
Once you have performed the Development activities as described in chapter 5, you can verify that the payment flow performs as expected with the Partner application.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Step</th>
<th class="tableblock halign-left valign-top">Reference visual</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Click ‘App Store’ on your Sunmi device</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="media/image006.jpg" alt="image006"></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Choose and install the Terminal app</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="media/image005.png" alt="image005"></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">You are done!</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="media/darkGreenCheck.png" alt="darkGreenCheck" width="35"></span></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_payment_solution_overview">4. Payment solution overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter provides an overview of the required applications and how they work together as a payment solution.
The transaction flow is described step by step.</p>
</div>
<div class="sect2">
<h3 id="_partner_application_payment_library_and_terminal_application">Partner application, payment library and Terminal application</h3>
<div class="paragraph">
<p>The App-2-app integration for the Sunmi Android platform consists of two applications and one library:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>The Partner application</strong>: Android based application developed by the partner integrating with PayPlaza payment solution for payment acceptance</p>
</li>
<li>
<p><strong>The PayPlaza Terminal application</strong>: handling card entry and the payment flow. It can perform payments and refund transactions. Also handles receipts for transactions.</p>
</li>
<li>
<p><strong>The PayPlaza Android POS integration library</strong>: provides functionality to handle transactions on the gateway. It requests transaction data to Partner application and forwards it to the terminal application. It also provides functionality to get information about old transactions and other info that may be useful for integrators, such as current currency code used by terminal app.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Partners need to have their Android app running on the same physical device as the PayPlaza Terminal application and include the PayPlaza Android POS integration library as a dependency on their app.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_transaction_flow">Transaction Flow</h3>
<div class="paragraph">
<p>In this section we explain how the Partner application initiates a transaction and we describe both the transaction flow through the terminal application and the interactions between it and the user.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="diag-a54a7eb995a18c06fec24caa2ab16438.png" alt="Diagram" width="516" height="623">
</div>
</div>
<div class="paragraph">
<p>The basic functioning of the Integration library is that Partner Applications can send the transaction request (<code>doTransaction()</code> method on the Integration service class inside the Integration library) together with the call-back object. Once the result of the transaction is received, the library will trigger the appropriate call-back method.</p>
</div>
<div class="paragraph">
<p>A transaction starts with the merchant entering an amount.
The device is then handed over to the cardholder, who presents their card, authorizes the transaction, and receives the transaction outcome.
The device is then handed back to the merchant and, if needed, receipts are printed.</p>
</div>
<div class="paragraph">
<p>Transition between applications is seamless and the entire flow appears as if it is handled by the ECR application alone. This is done thanks to the integration library which integrates the call to the terminal application within partner&#8217;s application context.</p>
</div>
<div class="paragraph">
<p>Also, it is important to mention that transaction flow in Terminal application does not manifest itself to the user in any way. When Terminal app is opened from the launcher screen it starts some functionality checks, such as terminal configuration availability, correct keys on device, network connection and gateway availability, and after those checks are finished, a banner advising the user to switch to an ECR application (In this case, the partner application) is displayed.</p>
</div>
<div class="paragraph">
<p>It is important to point out that while the Terminal application UI is visible during a transaction, it is not possible to interact with the Partner application.</p>
</div>
<div class="paragraph">
<p>You can also see on the diagram that sdk takes into account the possibitlity that the terminal app or device can crash by any reason. In that case, Partner App should request the status of the transaction to be certain about the result of the operation. (see "Dealing with unexpected scenarios" chapter)</p>
</div>
</div>
<div class="sect2">
<h3 id="_i18n_and_language_negotiation">I18n and language negotiation</h3>
<div class="paragraph">
<p>The default language in which the user interface is presented by the PayPlaza application is the language configured in the shop configuration in the Gateway.
It is expected that the partner application does the same.
PayPlaza will ensure that the PayPlaza application supports the languages of the countries it is deployed in.</p>
</div>
<div class="paragraph">
<p>The PayPlaza application will switch to the cardholder preferred language if suggested by the EMV card and if the translation into this language exists.
The PayPlaza application will switch language, if applicable, after the language setting on the card has been read.</p>
</div>
<div class="paragraph">
<p>It is the responsibility of the partner application developers to make their application support the languages they want to use.
Also, Partner application developers may want to inform PayPlaza about the languages they want to actively support.
PayPlaza may consider adding those languages to the PayPlaza applications.</p>
</div>
<div class="paragraph">
<p>If the partner wants to override the language set for the shop, they can provide a language code to the PayPlaza applications.
The PayPlaza applications will use that language, provided it is supported by our applications.
If a language code is provided that is not supported by PayPlaza, our applications will default to the English language.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_development_guidelines">5. Development Guidelines</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section explains how your app communicates with the PayPlaza applications.</p>
</div>
<div class="paragraph">
<p>A card payment goes through the following flow:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The Partner application uses the PayPlaza Android POS integration library to start a transaction with the appropriate data (transaction type, amount, currency&#8230;&#8203;).</p>
</li>
<li>
<p>The PayPlaza Terminal application receives the information thanks to the integration library and calls the PayPlaza Gateway to process the payment.</p>
</li>
<li>
<p>PayPlaza Android POS integration library receives the transaction result from Terminal app and send it back to the Partner applications using a call-back. The result consists of a result data and the receipts for the transaction (if any) from the Gateway.</p>
</li>
<li>
<p>The Partner application performs the transaction result and provides printer receipts.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_integration_mechanism">Integration Mechanism</h3>
<div class="paragraph">
<p>In order to pass data to the PayPlaza app, the Partner app needs to use the PayPlaza Android POS integration library methods and wait for a result. To be able to use these methods, Partner application need to include the library as a dependency in the code. Integration library can be used to integrate in two different environments: development and production. You should include the correct dependency for the correct environment in which you are operating.
First you need to add the JitPack repository to your root build.gradle file:</p>
</div>
<div class="listingblock">
<div class="title">Code Sample. Adding JitPack to your project</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">allprojects</span> <span class="o">{</span>
    <span class="n">repositories</span> <span class="o">{</span>
        <span class="n">google</span><span class="o">()</span>
        <span class="n">jcenter</span><span class="o">()</span>
        <span class="n">maven</span> <span class="o">{</span>
            <span class="n">url</span> <span class="s1">'https://jitpack.io'</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>After that has been made, you can add the dependency to your app-level build.gradle file:</p>
</div>
<div class="listingblock">
<div class="title">Code Sample. dependency for production environment</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">dependencies</span> <span class="o">{</span>
    <span class="c1">// CM|PayPlaza Android POS Integration library for production environment</span>
    <span class="n">implementation</span> <span class="s1">'com.cm.payments:androidposintegration:x.y.z'</span>
    <span class="o">...</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Code Sample. dependency for development environment</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">dependencies</span> <span class="o">{</span>
    <span class="c1">// CM|PayPlaza Android POS Integration library for dev environment</span>
    <span class="n">implementation</span> <span class="s1">'com.cm.payments:androidposintegration-debug:x.y.z'</span>
    <span class="o">...</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
x, y and z should be change for the correct version numbers
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once this is done, your application should initialize the application with your android context application so PayPlaza library can communicate with PayPlaza Terminal application:</p>
</div>
<div class="listingblock">
<div class="title">Code Sample. Initialization of PayPlaza Android POS integration library.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="k">override</span> <span class="k">fun</span> <span class="nf">onCreate</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">.</span><span class="nf">onCreate</span><span class="p">()</span>
    <span class="nc">AndroidPosIntegration</span><span class="p">.</span><span class="nf">init</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>

<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Once you have done this you can access the PosIntegrationService instance in your code by using the <code>getInstance</code> method of the <code>AndroidPosIntegration</code> object in PayPlaza Android POS Integration Library</p>
</div>
<div class="listingblock">
<div class="title">Code Sample. Getting the PayplazaPaymentService instace.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="kd">val</span> <span class="py">service</span> <span class="p">=</span> <span class="nc">AndroiPosIntegration</span><span class="p">.</span><span class="nf">getInstance</span><span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This PosIntegrationService has a list of methods that can be used to perform operation in PayPlaza environment. The methods are the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="kd">interface</span> <span class="nc">PosIntegrationService</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">doTransaction</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nc">TransactionData</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="nc">TransactionCallback</span><span class="p">)</span>

    <span class="k">fun</span> <span class="nf">transactionStatuses</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nc">RequestStatusData</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="nc">StatusesCallback</span><span class="p">)</span>

    <span class="k">fun</span> <span class="nf">getLastReceipt</span><span class="p">(</span><span class="n">options</span><span class="p">:</span> <span class="nc">LastReceiptOptions</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="nc">ReceiptCallback</span><span class="p">)</span>

    <span class="k">fun</span> <span class="nf">getTerminalDayTotals</span><span class="p">(</span><span class="n">options</span><span class="p">:</span> <span class="nc">DayTotalsOptions</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="nc">ReceiptCallback</span><span class="p">)</span>

    <span class="k">fun</span> <span class="nf">getTerminalInfo</span><span class="p">(</span><span class="n">callback</span><span class="p">:</span> <span class="nc">TerminalInfoCallback</span><span class="p">)</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>doTransaction</strong>: Is used to perform a transaction on PayPlaza app.</p>
</div>
<div class="paragraph">
<p><strong>transactionStatuses</strong>: It is used to request status of a previous transaction performed by PayPlaza Terminal app.</p>
</div>
<div class="paragraph">
<p><strong>getLastReceipt</strong>: It is used to request the receipt of the last transaction performed by Terminal application.</p>
</div>
<div class="paragraph">
<p><strong>getTerminalDayTotals</strong>: It is used to request the totals information from the gateway.</p>
</div>
<div class="paragraph">
<p><strong>getTerminalInfo</strong>: It is used to request information about the merchant shop in which the terminal is connected.</p>
</div>
<div style="page-break-after: always;"></div>
<div class="sect3">
<h4 id="_passing_data_to_the_library_for_transaction_flow">Passing data to the library for Transaction flow</h4>
<div class="paragraph">
<p>Data can be passed to the PayPlaza Android POS Integration library by using a payment object with the appropriate data.</p>
</div>
<div class="listingblock">
<div class="title">Code Sample. Transaction Data.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="kd">data class</span> <span class="nc">TransactionData</span><span class="p">(</span><span class="kd">val</span> <span class="py">type</span><span class="p">:</span> <span class="nc">TransactionType</span><span class="p">,</span>
                           <span class="kd">val</span> <span class="py">amount</span><span class="p">:</span> <span class="nc">BigDecimal</span><span class="p">,</span>
                           <span class="kd">val</span> <span class="py">currency</span><span class="p">:</span> <span class="nc">Currency</span><span class="p">,</span>
                           <span class="kd">val</span> <span class="py">orderReference</span><span class="p">:</span> <span class="nc">String</span><span class="p">)</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="py">language</span><span class="p">:</span> <span class="nc">String</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>
    <span class="kd">var</span> <span class="py">refundStan</span><span class="p">:</span> <span class="nc">String</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>
    <span class="kd">var</span> <span class="py">refundDate</span><span class="p">:</span> <span class="nc">Date</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>
    <span class="kd">var</span> <span class="py">isCaptureSignature</span> <span class="p">=</span> <span class="k">true</span>
    <span class="kd">var</span> <span class="py">isShowReceipt</span> <span class="p">=</span> <span class="k">true</span>

<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Values for the payment data attributes are specified following this table;</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute Name</th>
<th class="tableblock halign-left valign-top">Data Type/ Class</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">com.payplaza.androidposintegration.enums.TransactionType
Only two options.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">amount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BigDecimal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.util.Currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">orderReference</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String(max 14)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">language</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String(2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System Language</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">refundStan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String(6)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">refundDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.util.Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isCaptureSignature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isShowReceipt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_attributes_explanation">Attributes explanation</h5>
<div class="paragraph">
<p><strong>type</strong> is a field in which you can specify if the transaction is a payment or a refund. An Enum is defined on the integration library so partners can choose between one of them.</p>
</div>
<div class="paragraph">
<p><strong>amount</strong> is the transaction (payment or refund) amount.
It is mandatory.
It is represented as a BigDecimal including the decimal separator.
For example, an amount in euro&#8217;s is represented as "12,34", twelve euros and thirty four cents.</p>
</div>
<div class="paragraph">
<p><strong>currency</strong> is a java.util.Currency object and indicates the currency in which the transaction will be performed. There is a merchant shop configuration present on the gateway. This configuration contains the store currency among other parameters. Partners can retrieve that currency using the <em>getInfo</em> operation present on the library. PayPlaza terminal app can perform a transaction using a different currency from the default one, although in some cases that is not recommended (See ref for details).</p>
</div>
<div class="paragraph">
<p><strong>orderReference</strong> is a mandatory string of up to 14 characters.
You are free to put in any text.
The PayPlaza app will return your order reference in the receipt lines (see recovery procedure).
Transactions are not accepted in case the order reference is not present in the intent.
Order reference needs to have a unique ID per POS for each transaction and date.
Order reference may contain a maximum of 14 alphanumeric characters without special characters.</p>
</div>
<div class="paragraph">
<p><strong>laguante</strong> is specified as a two-character string that represents a valid Locale language. Should be set using ISO-639-1 Code ("EN" for English, "NL" for Dutch, &#8230;&#8203;)
We currently support English, French, Dutch, German and Spanish.
If you need other languages, please contact us.
Language is configured in the merchant shop configuration in the Gateway.
Only specify a language via the Intent if you need a language different from what is configured in the Gateway for your shop.</p>
</div>
<div class="paragraph">
<p><strong>refundStan</strong> It is a String up to 6 characters. It represents the system trace audit number. It is only used for refund transactions and it can be found on the receipt for the previous transaction that has to be refunded</p>
</div>
<div class="paragraph">
<p><strong>transactionDate</strong> is the date and time of the transaction. It is a java.util.Date object representing the date of the previous transaction. It is only used for refund transactions.</p>
</div>
<div class="paragraph">
<p><strong>isCaptureSignature</strong> is a Boolean, indicating whether the Terminal application should perform on-screen signature capture for signature CVM transactions.
When set to true and the transaction CVM is signature, the Terminal application will ask the user to sign on screen and send the signature back on the receipt to the partner application as a bitmap (see receipt handling on library for more details). This is the default behaviour. Partners can override that behaviour by setting this attribute to false.</p>
</div>
<div class="paragraph">
<p><strong>isShowReceipt</strong> Indicates if the receipt(s) need(s) to be shown in PayPlaza Terminal app. Default value is true, so terminal is always showing the receipts. Partners can override that behaviour by setting that attribute to false.</p>
</div>
<div class="paragraph">
<p>Example of Transaction PaymentData object that can be used for the transaction:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Transaction type: purchase</p>
</li>
<li>
<p>Value: 5.95€</p>
</li>
<li>
<p>Currency: EUR</p>
</li>
<li>
<p>Order reference: 0303-000112</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Code Sample. Transaction Data object creation for Payment Transaction</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="kd">val</span> <span class="py">data</span> <span class="p">=</span> <span class="nc">TransactionData</span><span class="p">(</span><span class="nc">TransactionType</span><span class="p">.</span><span class="nc">PURCHASE</span><span class="p">,</span> <span class="nc">BigDecimal</span><span class="p">(</span><span class="mf">5.95</span><span class="p">),</span> <span class="nc">Currency</span><span class="p">.</span><span class="nf">getInstance</span><span class="p">(</span><span class="s">"EUR"</span><span class="p">),</span><span class="s">"0303-000112"</span><span class="p">)</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_transactions_of_type_refund">Transactions of type "Refund"</h3>
<div class="paragraph">
<p>There are two possibilities when a refund transaction is sent as Transaction Type on the Transaction object: Standard refund transaction and STAN/TX refund transaction.</p>
</div>
<div class="paragraph">
<p>In the first case, no other information is required and the refund transaction will be performed with the amount sent.</p>
</div>
<div class="paragraph">
<p>In the second case, STAN and Transaction date information linked to a previous transaction, need to be provided to PayPlaza application in the following form:</p>
</div>
<div class="paragraph">
<p>TRANSACTION_STAN: string (6 characters. 6 STAN digits from the previous transaction)
TRANSACTION_DATE: string (8 characters with the following format: “dd/MM/yy”)</p>
</div>
<div class="paragraph">
<p>If the transaction type received by PayPlaza app is "refund" and no other related information - like the STAN and transaction date - is present on the transaction object, the refund will be processed as standard refund flow.
If transaction type is refund and STAN and Transaction date are present, refund flow will be linked to a previous existing transaction.
If only one of the STAN and TX Date is present, an error will be returned by PayPlaza Terminal app.</p>
</div>
<div class="paragraph">
<p>Example of Transaction Data object for a Refund transaction</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Transaction type: refund</p>
</li>
<li>
<p>Value: 5.95€</p>
</li>
<li>
<p>Currency: EUR</p>
</li>
<li>
<p>Order reference: 0303-000113</p>
</li>
<li>
<p>STAN of previous transaction: 065987</p>
</li>
<li>
<p>Date of previous transaction: February 1st, 2021</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Code Sample. Transaction Data object creation for Refund Transaction</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="kd">val</span> <span class="py">data</span> <span class="p">=</span> <span class="nc">TransactionData</span><span class="p">(</span>
                <span class="nc">TransactionType</span><span class="p">.</span><span class="nc">REFUND</span><span class="p">,</span>
                <span class="nc">BigDecimal</span><span class="p">(</span><span class="mf">5.95</span><span class="p">),</span>
                <span class="nc">Currency</span><span class="p">.</span><span class="nf">getInstance</span><span class="p">(</span><span class="s">"EUR"</span><span class="p">),</span>
                <span class="s">"0303-000113"</span>
           <span class="p">)</span>

<span class="n">data</span><span class="p">.</span><span class="n">refundStan</span> <span class="p">=</span> <span class="s">"065987"</span> <span class="c1">// Can be found on the receipt</span>
<span class="kd">val</span> <span class="py">dateFormat</span> <span class="p">=</span> <span class="nc">SimpleDateFormat</span><span class="p">(</span><span class="s">"dd/MM/yy"</span><span class="p">)</span>
<span class="n">data</span><span class="p">.</span><span class="n">refundDate</span> <span class="p">=</span> <span class="n">dateFormat</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="s">"01/02/21"</span><span class="p">)</span> <span class="c1">// Can be found on the receipt</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_receiving_results">Receiving results</h3>
<div class="paragraph">
<p>In order to receive the results for a transaction with the PayPlaza android POS integration library, partners have to define a call-back object that will be called back as soon as the result has been processed by the library.</p>
</div>
<div class="listingblock">
<div class="title">Code Sample. Definition of TransactionCallback</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="nc">Unresolved</span> <span class="n">directive</span> <span class="k">in</span> <span class="nc">EasyPOS</span> <span class="nc">Integration</span> <span class="nc">Guidelines</span> <span class="k">for</span> <span class="nc">Sunmi</span> <span class="nc">P2</span> <span class="nc">Devices-2</span><span class="mf">.0.0</span><span class="p">.</span><span class="n">adoc</span> <span class="p">-</span> <span class="n">include</span><span class="o">::..</span><span class="p">/</span><span class="n">androidposintegration</span><span class="p">/</span><span class="n">src</span><span class="p">/</span><span class="n">main</span><span class="p">/</span><span class="n">java</span><span class="p">/</span><span class="n">com</span><span class="p">/</span><span class="n">payplaza</span><span class="p">/</span><span class="n">androidposintegration</span><span class="p">/</span><span class="n">service</span><span class="p">/</span><span class="n">callback</span><span class="p">/</span><span class="nc">TransactionCallback</span><span class="p">.</span><span class="n">kt</span><span class="p">[</span><span class="n">lines</span><span class="p">=</span><span class="mi">6</span><span class="o">..</span><span class="mi">15</span><span class="p">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Object defined by Partner application needs to implement this interface. When library has the result of the transaction, it will call method <em>onResult</em> on the call-back and Partner application can get the result using the parameter on the call-back. For that, the class <em>TransactionResultData</em> is used</p>
</div>
<div class="paragraph">
<p>Values for the Transaction Result Data attributes are specified following this table:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Atribute Name</th>
<th class="tableblock halign-left valign-top">Data Type/ Class</th>
<th class="tableblock halign-left valign-top">present</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">transactionResult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">com.payplaza.androidposintegration.enums.TransactionResult</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">always</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">orderReference</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String(max 14)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">always</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">amount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BigDecimal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">always</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">authResponseCode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If Tx processed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cardEntryMode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If Tx processed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ecrId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If present on the receipt</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">processorName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If present on the receipt</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">transactionDateTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.util.Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If present on the receipt</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">transactionId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If Tx Processed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cardScheme</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If present on the receipt</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if present on the receipt</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cardNumber</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If present on the receipt</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cardType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If Tx Processed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If present on the receipt</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">merchantReceipt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">com.payplaza.androidposintegration.beans.ReceiptData</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If merchant receipt received from Gateway</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">customerReceipt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">com.payplaza.androidposintegration.beans.ReceiptData</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If customer receipt received from Gateway</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_attributes_explanation_2">Attributes Explanation</h4>
<div class="paragraph">
<p><strong>transactionResult</strong>: The resultCode you receive on the call-back. It is an enum defined on the library and can be one of the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="nc">SUCCESS</span> <span class="p">(</span><span class="s">"Operation was successful"</span><span class="p">)</span>
<span class="nc">CANCELED</span> <span class="p">(</span><span class="s">"Operation was canceled"</span><span class="p">)</span>
<span class="nc">AUTHORIZATION_FAILURE</span> <span class="p">(</span><span class="s">"Operation did not have authorization"</span><span class="p">)</span>
<span class="nc">AUTHORIZATION_TIMEOUT</span> <span class="p">(</span><span class="s">"Timeout in last operation authorization"</span><span class="p">)</span>
<span class="nc">CARD_BLOCKED</span> <span class="p">(</span><span class="s">"Card used is blocked"</span><span class="p">)</span>
<span class="nc">CARD_INVALID</span> <span class="p">(</span><span class="s">"Card used is invalid"</span><span class="p">)</span>
<span class="nc">DECLINED_BY_CARD</span> <span class="p">(</span><span class="s">"Operation was declined by card"</span><span class="p">)</span>
<span class="nc">INSUFICIENT_FUNDS</span> <span class="p">(</span><span class="s">"Not sufficient funds to perform last authorization"</span><span class="p">)</span>
<span class="nc">FAILED</span> <span class="p">(</span><span class="s">"Operation failed"</span><span class="p">)</span>
<span class="nc">AMOUNT_EXCEEDED</span> <span class="p">(</span><span class="s">"Amount of las operation exceeded the limit"</span><span class="p">)</span>
<span class="nc">HOST_BLOCKED_PRINT_RECEIPT</span> <span class="p">(</span><span class="s">"Operation couldn’t be performed. Receipt of the last transaction pending"</span><span class="p">)</span>
<span class="nc">REQUEST_RECEIPT</span><span class="p">(</span><span class="s">"Request Receipt of current Transaction"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Each value has its own description so it is easy for users to understand what happened with the transaction.</p>
</div>
<div class="paragraph">
<p><strong>orderReference</strong>: Is the order reference used in the transaction this value was received to perform the transaction and it is sent back to the partner application</p>
</div>
<div class="paragraph">
<p><strong>amount</strong>: Is the amount received for the transaction.</p>
</div>
<div class="paragraph">
<p><strong>authResponseCode</strong>: Is the authorization response code received on the transaction. It is only present if the transaction has been processed.</p>
</div>
<div class="paragraph">
<p><strong>cardEntryMode</strong>: Is the card entry mode used in the transaction. It is present only if the transaction has been processed. It has one of the following values:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"CARD_ENTRY_MODE_MAG_STRIPE"
"CARD_ENTRY_MODE_MAG_STRIPE_FALL_BACK"
"CARD_ENTRY_MODE_ICC"
"CARD_ENTRY_MODE_CONTACTLESS"
"CARD_ENTRY_MODE_CONTACTLESS_MAG"</pre>
</div>
</div>
<div class="paragraph">
<p><strong>processorName</strong>: Is the name of the payment processor used in the transaction. It can also be found on the receipt lines.</p>
</div>
<div class="paragraph">
<p><strong>transactionDateTime</strong>: It is the date and time of the transaction received from the gateway.</p>
</div>
<div class="paragraph">
<p><strong>transactionId</strong>: It is the internal transaction id used in PayPlaza gateway</p>
</div>
<div class="paragraph">
<p><strong>cardScheme</strong>: Is the Scheme of the card (Mastercard, Visa, &#8230;&#8203;) used in the transaction.</p>
</div>
<div class="paragraph">
<p><strong>aid</strong>: Is the AID of the card used in the transaction</p>
</div>
<div class="paragraph">
<p><strong>cardNumber</strong>: It is the masked pan of the card that has been used in the transaction.</p>
</div>
<div class="paragraph">
<p><strong>cardType</strong>: It is an integer that indicates the type of the card used in the transaction. It can have the following values:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>MAGNETIC CARD: 1
NFC CARD: 4
ICC (CHIP): 2</pre>
</div>
</div>
<div class="paragraph">
<p><strong>stan</strong>: Is the System Trace Audit Number of the transaction. It can also be found on the transaction.</p>
</div>
<div class="paragraph">
<p><strong>merchantReceipt</strong>: It is the transaction receipt for the merchant. It is received if the merchant receipt was sent by the gateway. It is an object of the class <em>com.payplaza.androidposintegration.beans.ReceiptData</em></p>
</div>
<div class="paragraph">
<p><strong>customerReceipt</strong>: It is the transaction receipt for the customer. It is received if the customer receipt was sent by the gateway. Same as merchant receipt, it is an object of the class <em>com.payplaza.androdposintegration.beans.ReceiptData</em></p>
</div>
<div class="sect4">
<h5 id="_receipt_data">Receipt Data</h5>
<div class="paragraph">
<p>The receipt data object received by partners has two attributes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="kd">var</span> <span class="py">receiptLines</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;?</span>
<span class="kd">var</span> <span class="py">signature</span><span class="p">:</span> <span class="nc">ByteArray</span><span class="p">?</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>receiptLines</strong>: is an array with the formatted lines of the receipt</p>
</div>
<div class="paragraph">
<p><strong>signature</strong>: It is a Byte Array with the bitmap signature performed on Screen if the receipt needs a signature. It is only present if the signature has been done on the device. You can create a bitmap from the signature byte array present on the receipt using <code>BitmapFactory.decodeByteArray(…)</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="n">signatureInMerchantReceipt</span> <span class="p">=</span> <span class="nc">BitmapFactory</span><span class="p">.</span><span class="nf">decodeByteArray</span><span class="p">(</span>
                                <span class="n">merchantReceipt</span><span class="p">.</span><span class="nf">getSignature</span><span class="p">(),</span>
                                <span class="mi">0</span><span class="p">,</span>
                                <span class="n">merchantReceipt</span><span class="p">.</span><span class="nf">getSignature</span><span class="p">().</span><span class="n">length</span>
                             <span class="p">)</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Simple Receipt Sample</div>
<div class="content">
<pre>Shopname

Terminal:       PPCCVBZS
Merchant:         654321
ECR:      E_SUNMI_P2lite
          _PL0919CQ00283
STAN:             130075

             CONTACTLESS
AID:      A0000000043060
                 MAESTRO
Card:       ********0308
Cardnb:                0

Date: 19-07-21  09:52:52
AC:     F9A1D8E9A1014A60
Processor:           CCV
Auth. code:       FA5822
Auth. resp. code:     00

Amount:         EUR 2,49
REF:             7000135

   Payment approved

CARDHOLDER RECEIPT

       www.payplaza.com</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Receipt with signature sample</div>
<div class="content">
<pre>Shopname

Terminal:       PPCCVBZS
Merchant:         654321
ECR:      E_SUNMI_P2lite
          _PL0919CQ00283
STAN:             130075

             CONTACTLESS
AID:      A0000000043060
                 MAESTRO
Card:       ********0308
Cardnb:                0

Date: 19-07-21  09:52:52
AC:     F9A1D8E9A1014A60
Processor:           CCV
Auth. code:       FA5822
Auth. resp. code:     00

Amount:         EUR 2,49
REF:             7000135

   Payment approved

MERCHANT RECEIPT

CARDHOLDER SIGNATURE



......................

       www.payplaza.com</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
It is responsibility of your application to print the signature in the appropriate position on the merchant receipt.
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="_error_cases">Error Cases</h4>
<div class="paragraph">
<p>PayPlaza android POS integration library uses <code>onResult</code> method in the callback when there is no error on the transaction flow between the card, terminal and gateway. However, it could be the case when some situations may lead into errors in the flow (e.g.: connection lost). For those cases, the method <code>onError</code> is used. PayPlaza library also creates an ErrorCode Enum object with the following values:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="nc">NO_ERROR</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">"No error"</span><span class="p">)</span>
<span class="nc">UNKNOWN_ERROR</span> <span class="p">(-</span><span class="mi">1</span><span class="p">,</span> <span class="s">"Unknown error"</span><span class="p">)</span>
<span class="nc">AMOUNT_INVALID</span> <span class="p">(-</span><span class="mi">2</span><span class="p">,</span> <span class="s">"Amount used was invalid"</span><span class="p">)</span>
<span class="nc">NO_INTERNET</span> <span class="p">(-</span><span class="mi">12</span><span class="p">,</span> <span class="s">"Device is not connected to the network"</span><span class="p">)</span>
<span class="nc">PRINTER_INIT_FAIL</span> <span class="p">(-</span><span class="mi">17</span><span class="p">,</span> <span class="s">"Printer initialization failed"</span><span class="p">)</span>
<span class="nc">POS_NOT_CONFIGURED</span> <span class="p">(-</span><span class="mi">18</span><span class="p">,</span> <span class="s">"Device is not configured in gateway"</span><span class="p">)</span>
<span class="nc">BAD_TIMEZONE</span> <span class="p">(-</span><span class="mi">24</span><span class="p">,</span> <span class="s">"Timezone on the device is not correct"</span><span class="p">)</span>
<span class="nc">HOST_NOT_CONNECTED</span> <span class="p">(-</span><span class="mi">25</span><span class="p">,</span> <span class="s">"Cannot connect with the gateway"</span><span class="p">)</span>
<span class="nc">MERCHANT_ORDER_REF_NOT_PRESENT</span> <span class="p">(-</span><span class="mi">29</span><span class="p">,</span> <span class="s">"Order reference not present in request data"</span><span class="p">)</span>
<span class="nc">TIMEOUT</span> <span class="p">(-</span><span class="mi">30</span><span class="p">,</span> <span class="s">"Timeout reaching the gateway"</span><span class="p">)</span>
<span class="nc">REPEATED_OPERATION</span> <span class="p">(-</span><span class="mi">31</span><span class="p">,</span> <span class="s">"Transaction already in progress"</span><span class="p">)</span>
<span class="nc">MERCHANT_ORDER_REF_TOO_LONG</span> <span class="p">(-</span><span class="mi">32</span><span class="p">,</span> <span class="s">"Order ref exceeds allowed length"</span><span class="p">)</span>
<span class="nc">AMOUNT_LIMIT_EXCEEDED</span> <span class="p">(-</span><span class="mi">33</span><span class="p">,</span> <span class="s">"Transaction exceeds allowed limit"</span><span class="p">)</span>
<span class="nc">TRANSACTION_TYPE_MISSING</span><span class="p">(-</span><span class="mi">35</span><span class="p">,</span> <span class="s">"Transaction Type must be sent"</span><span class="p">)</span>
<span class="nc">CURRENCY_MISSING</span><span class="p">(-</span><span class="mi">36</span><span class="p">,</span> <span class="s">"Currency must be sent"</span><span class="p">)</span>
<span class="nc">TRANSACTION_STATUS_ERROR</span> <span class="p">(-</span><span class="mi">50</span><span class="p">,</span> <span class="s">"Status information not received"</span><span class="p">)</span>
<span class="nc">INFO_REQUEST_FAILED</span> <span class="p">(-</span><span class="mi">51</span><span class="p">,</span> <span class="s">"Info Request towards the gateway has failed"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Values also contain a description so users can know what went wrong with the previous transaction.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_dealing_with_unexpected_scenarios">Dealing with unexpected scenarios</h3>
<div class="paragraph">
<p>The PayPlaza app handles recovery of the payment transaction.
This means, the PayPlaza app receives a payment request from partner application using the payment library and takes responsibility for properly handling that.</p>
</div>
<div class="paragraph">
<p>After processing, the app will return the result of the payment (which can have succeeded or failed) or it will return an ErrorCode result containing information on a failed operation.</p>
</div>
<div class="paragraph">
<p>But PayPlaza integration library can also call <code>onCrash</code> because of a crash on Terminal PayPlaza. If this is the case or if the Partner app crashes or is not capable of receiving the result for whatever reason, the PayPlaza integration library app allows Partner app to recover by requesting information of past transactions.
This means we always need an order reference to be able to retrieve results of previous transactions. That is why order reference is a required attribute in the Transaction Data object needed by library to perform a transaction. Order reference does not need to be unique, because multiple transactions can refer to the same order reference.
This happens when transactions fail, and new transactions are started with the same order reference for the same payment.</p>
</div>
<div class="sect3">
<h4 id="_requesting_transaction_information_for_an_existing_order_reference">Requesting transaction information for an existing order reference</h4>
<div class="paragraph">
<p>If the partner app needs to recover, or wants to retrieve old transaction results, the PayPlaza integration library allows the partner app to request the status of the previous transaction associated with an order reference.
The method on the
The PayPlaza app will return the results for that order reference that were sent previously.</p>
</div>
<div class="paragraph">
<p>This is flow for requesting the transaction status:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="diag-5c453a1dbe622bb6366e3a0cc7073cc0.png" alt="Diagram" width="381" height="290">
</div>
</div>
<div class="paragraph">
<p>Because the order reference is not unique on a transaction level - the payment for a particular order reference can be retried a number of times, resulting in multiple transactions with the same order reference - a request for previous transaction results can result in multiple results.
Of these, one may be a success result, the others are typically failure results.</p>
</div>
<div class="paragraph">
<p>The method to be used to retrieved this statuses is <code>transactionStatuses</code>. It receives an object of class <code>RequestStatusData</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="nc">Unresolved</span> <span class="n">directive</span> <span class="k">in</span> <span class="nc">EasyPOS</span> <span class="nc">Integration</span> <span class="nc">Guidelines</span> <span class="k">for</span> <span class="nc">Sunmi</span> <span class="nc">P2</span> <span class="nc">Devices-2</span><span class="mf">.0.0</span><span class="p">.</span><span class="n">adoc</span> <span class="p">-</span> <span class="n">include</span><span class="o">::..</span><span class="p">/</span><span class="n">androidposintegration</span><span class="p">/</span><span class="n">src</span><span class="p">/</span><span class="n">main</span><span class="p">/</span><span class="n">java</span><span class="p">/</span><span class="n">com</span><span class="p">/</span><span class="n">payplaza</span><span class="p">/</span><span class="n">androidposintegration</span><span class="p">/</span><span class="n">beans</span><span class="p">/</span><span class="nc">RequestStatusData</span><span class="p">.</span><span class="n">kt</span><span class="p">[</span><span class="n">lines</span><span class="p">=</span><span class="mi">2</span><span class="o">..</span><span class="p">]</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Please note that you can create an object of class RequestStatusData with no info or an object passing the value for the merchant order reference. This is due to the fact that the transaction status can be requested with no specific order reference and you will received the status of all transactions performed by the Sunmi device that is being used in the current day.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>page</strong>: It is an integer and can be used to indicate the number of the start page of the result (useful if there are too many transactions associated to one order reference)</p>
</div>
<div class="paragraph">
<p><strong>size</strong>: It is an integer and can be used to indicate the number of statuses per reply (if 0 it is ignored).</p>
</div>
<div class="paragraph">
<p><strong>sortFiled</strong>: It can be used to indicate in which field sorting needs to be performed.</p>
</div>
<div class="paragraph">
<p><strong>sortValue</strong>: It can be used to indicate which type of sorting needs to be applied. Possible values are "asc" for ascending or "desc" for descending.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="kd">val</span> <span class="py">requestData</span> <span class="p">=</span> <span class="nc">RequestStatusData</span><span class="p">(</span><span class="s">"003-00012"</span><span class="p">)</span>
<span class="nc">PayplazaPaymentService</span><span class="p">.</span><span class="nf">transactionStatuses</span><span class="p">(</span><span class="n">requestData</span><span class="p">,</span> <span class="n">statusesCallback</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>StatusesCallback is used to receive the result in the same way that TransactionCallback is used to received the result of a transaction.</p>
</div>
<div class="paragraph">
<p>statusesCallback object also has a method <code>onResult</code> to receive the result of the statuses request to PayPlaza Terminal app.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="nc">Unresolved</span> <span class="n">directive</span> <span class="k">in</span> <span class="nc">EasyPOS</span> <span class="nc">Integration</span> <span class="nc">Guidelines</span> <span class="k">for</span> <span class="nc">Sunmi</span> <span class="nc">P2</span> <span class="nc">Devices-2</span><span class="mf">.0.0</span><span class="p">.</span><span class="n">adoc</span> <span class="p">-</span> <span class="n">include</span><span class="o">::..</span><span class="p">/</span><span class="n">androidposintegration</span><span class="p">/</span><span class="n">src</span><span class="p">/</span><span class="n">main</span><span class="p">/</span><span class="n">java</span><span class="p">/</span><span class="n">com</span><span class="p">/</span><span class="n">payplaza</span><span class="p">/</span><span class="n">androidposintegration</span><span class="p">/</span><span class="n">service</span><span class="p">/</span><span class="n">callback</span><span class="p">/</span><span class="n">beans</span><span class="p">/</span><span class="o">..</span><span class="p">/</span><span class="nc">StatusesCallback</span><span class="p">.</span><span class="n">kt</span><span class="p">[</span><span class="n">lines</span><span class="p">=</span><span class="mi">6</span><span class="o">..</span><span class="p">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>TransactionStatusesData class is defined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="nc">Unresolved</span> <span class="n">directive</span> <span class="k">in</span> <span class="nc">EasyPOS</span> <span class="nc">Integration</span> <span class="nc">Guidelines</span> <span class="k">for</span> <span class="nc">Sunmi</span> <span class="nc">P2</span> <span class="nc">Devices-2</span><span class="mf">.0.0</span><span class="p">.</span><span class="n">adoc</span> <span class="p">-</span> <span class="n">include</span><span class="o">::..</span><span class="p">/</span><span class="n">androidposintegration</span><span class="p">/</span><span class="n">src</span><span class="p">/</span><span class="n">main</span><span class="p">/</span><span class="n">java</span><span class="p">/</span><span class="n">com</span><span class="p">/</span><span class="n">payplaza</span><span class="p">/</span><span class="n">androidposintegration</span><span class="p">/</span><span class="n">service</span><span class="p">/</span><span class="n">callback</span><span class="p">/</span><span class="n">beans</span><span class="p">/</span><span class="nc">TransactionStatusesData</span><span class="p">.</span><span class="n">kt</span><span class="p">[</span><span class="n">lines</span><span class="p">=</span><span class="mi">8</span><span class="o">..</span><span class="p">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>statusesInfo</strong> is a list of objects of class <code>TransactionStatusData</code>, which contains the information for one transaction:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="nc">Unresolved</span> <span class="n">directive</span> <span class="k">in</span> <span class="nc">EasyPOS</span> <span class="nc">Integration</span> <span class="nc">Guidelines</span> <span class="k">for</span> <span class="nc">Sunmi</span> <span class="nc">P2</span> <span class="nc">Devices-2</span><span class="mf">.0.0</span><span class="p">.</span><span class="n">adoc</span> <span class="p">-</span> <span class="n">include</span><span class="o">::..</span><span class="p">/</span><span class="n">androidposintegration</span><span class="p">/</span><span class="n">src</span><span class="p">/</span><span class="n">main</span><span class="p">/</span><span class="n">java</span><span class="p">/</span><span class="n">com</span><span class="p">/</span><span class="n">payplaza</span><span class="p">/</span><span class="n">androidposintegration</span><span class="p">/</span><span class="n">service</span><span class="p">/</span><span class="n">callback</span><span class="p">/</span><span class="n">beans</span><span class="p">/</span><span class="o">..</span><span class="p">/</span><span class="n">json</span><span class="p">/</span><span class="nc">TransactionStatusData</span><span class="p">.</span><span class="n">kt</span><span class="p">[</span><span class="n">lines</span><span class="p">=</span><span class="mi">12</span><span class="o">..</span><span class="mi">16</span><span class="p">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The transaction Status Data contains the amount of the transaction, the currency used in that transaction, the result of the transaction, the type of the transaction and the receipt of the transaction.
<code>statusesInfo</code> attribute contains a list of all transactions associated with the order reference used.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_receiving_request_receipt_as_transaction_result">Receiving REQUEST_RECEIPT as transaction result</h3>
<div class="paragraph">
<p>This is an special case of the recovery procedure. There are situations in which the PayPlaza Terminal has received the transaction result but it is not possible to get the receipts of the transaction (e.g.: because of a connection lost event). In this case, we cannot be certain of the transaction result until the receipt is received for the transaction.</p>
</div>
<div class="paragraph">
<p>If PayPlaza Integration library responds with that result, that means that Partner application should use the method <code>getLastReceipt</code> in order to complete the current transaction (see chapter 6 for more information about this operation).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_other_operations_in_sdk">6. Other Operations in SDK</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_last_receipt_functionality">Last Receipt functionality</h3>
<div class="paragraph">
<p>It is also possible to request the receipt for the last transaction performed by PayPlaza terminal application. This can be used to retrieve a copy of the last receipt received on Partner application, but also to retrieve the receipt of the last transaction even if the result did not reach your application.</p>
</div>
<div class="paragraph">
<p>This is the flow for requesting the receipt of the previous transaction:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="diag-458b09ebab186678cbc10bf1f36e8815.png" alt="Diagram" width="369" height="290">
</div>
</div>
<div class="listingblock">
<div class="title">Request for the last receipt</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="kd">val</span> <span class="py">lastReceiptOptions</span> <span class="p">=</span> <span class="nc">LastReceiptOptions</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>
<span class="n">paymentService</span><span class="p">.</span><span class="nf">getLastReceipt</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">receiptCallback</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>lastReceiptOptions</strong>: is an object containing the options for the operation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="kd">val</span> <span class="py">isShowReceipt</span><span class="p">:</span> <span class="nc">Boolean</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can select whether to show the receipt in PayPlaza Terminal application or not by setting that attribute to true (receipt shown in terminal app) or false (receipt not shown in terminal app).</p>
</div>
<div class="paragraph">
<p><strong>receiptCallback</strong> is a ReceiptCallback object that will be used by the PayPlaza Android POS integration library to call Partner application back when the result of the operation and the receipt (if any) are received from the gateway.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="k">fun</span> <span class="nf">onResult</span><span class="p">(</span><span class="n">data</span> <span class="p">:</span> <span class="nc">LastReceiptResultData</span><span class="p">)</span>

<span class="k">fun</span> <span class="nf">onError</span> <span class="p">(</span><span class="n">error</span> <span class="p">:</span> <span class="nc">ErrorCode</span><span class="p">)</span>

<span class="k">fun</span> <span class="nf">onCrash</span> <span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>receiptCallback object must implement ReceiptCallback interface which means that it needs to implement the onResult, onError and onCrash methods (same as other call-back objects)
<strong>data</strong> is an object of class LastReceiptResultData which has the following attribute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="kd">val</span> <span class="py">receiptData</span> <span class="p">:</span> <span class="nc">ReceiptData</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This <strong>receiptData</strong> is the same as the receipt received on the transaction operations and contains the receipt received from the gateway.</p>
</div>
<div class="paragraph">
<p>If anything goes wrong in the call to the gateway, method onError will be triggered with the appropriate information, same as with the other functionality on the PayPlaza Library.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_day_totals_functionality">Day totals functionality</h3>
<div class="paragraph">
<p>PayPlaza also provides integrators with the possibility to request the total amount money handled by the device in one day. We call that the Day totals of the terminal.</p>
</div>
<div class="paragraph">
<p>This is the flow for the get Terminal day totals functionality.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="diag-c0760be80e38c2946b2705dcb7f08332.png" alt="Diagram" width="407" height="290">
</div>
</div>
<div class="paragraph">
<p>Partners can make use of that functionality by calling the day totals operation on the library service:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="kd">val</span> <span class="py">dayTotalsOptions</span> <span class="p">=</span> <span class="nc">DayTotalsOptions</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>
<span class="n">dayTotalsOptions</span><span class="p">.</span><span class="nf">setFrom</span><span class="p">(</span><span class="s">"10:00"</span><span class="p">)</span>
<span class="n">paymentService</span><span class="p">.</span><span class="nf">getTerminalDayTotals</span><span class="p">(</span><span class="n">dayTotalsOptions</span><span class="p">,</span> <span class="n">receiptCallback</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>dayTotalsOptions</strong> is an object containing the options for the operation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="kd">val</span> <span class="py">isShowReceipt</span><span class="p">:</span> <span class="nc">Boolean</span>
<span class="kd">var</span> <span class="py">from</span> <span class="p">:</span> <span class="nc">String</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Same as with the last receipt functionality, you can select whether to show the receipt in terminal application or not. You can also select the hour of the present day from which the day totals will be calculated. If Partner application does not set that parameter, terminal will take <code>00:00</code> as the default hour and the day totals will be calculated from that time to the current time of the day in which the request is submitted.</p>
</div>
<div class="paragraph">
<p><strong>receiptCallback</strong> is the same call-back that must be implemented for the last receipt functionality (see Last Receipt functionality chapter)</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_request_info_functionality">Request Info functionality</h3>
<div class="paragraph">
<p>PayPlaza Terminal also provides this functionality to retrieve some useful information for partners. Terminal is configured on a merchant store on the gateway with some information (like the store name, address, language of the store, currency to use, &#8230;&#8203;). This information can be requested by partners by using this functionality present on the PayPlaza integration library.</p>
</div>
<div class="listingblock">
<div class="title">Request info data sample</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="n">paymentService</span><span class="p">.</span><span class="nf">getTerminalInfo</span><span class="p">(</span><span class="n">infoCallback</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, there is no need to send extra information on the request, therefore, the only parameters present on the call.</p>
</div>
<div class="paragraph">
<p><strong>infoCallback</strong> is an object of class TerminalInfoCallback. Partner object must implement the methods present on the interface same as with other functions present on the library. It contains the following functions</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="k">fun</span> <span class="nf">onResult</span><span class="p">(</span><span class="n">data</span> <span class="p">:</span> <span class="nc">TerminalInfoData</span><span class="p">)</span>

<span class="k">fun</span> <span class="nf">onError</span> <span class="p">(</span><span class="n">error</span> <span class="p">:</span> <span class="nc">ErrorCode</span><span class="p">)</span>

<span class="k">fun</span> <span class="nf">onCrash</span> <span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>onResult</strong> method is called when PayPlaza Library has received the information requested by Partner application. Parameter <em>data</em> contains all the data that is sent by Terminal application:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="kd">var</span> <span class="py">storeName</span><span class="p">:</span> <span class="nc">String</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>
<span class="kd">var</span> <span class="py">storeAddress</span><span class="p">:</span> <span class="nc">String</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>
<span class="kd">var</span> <span class="py">storeCity</span><span class="p">:</span> <span class="nc">String</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>
<span class="kd">var</span> <span class="py">storeZipCode</span><span class="p">:</span> <span class="nc">String</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>
<span class="kd">var</span> <span class="py">storeLanguage</span><span class="p">:</span> <span class="nc">String</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>
<span class="kd">var</span> <span class="py">storeCountry</span><span class="p">:</span> <span class="nc">String</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>
<span class="kd">var</span> <span class="py">storeCurrency</span><span class="p">:</span> <span class="nc">Currency</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>
<span class="kd">var</span> <span class="py">deviceSerialNumber</span><span class="p">:</span> <span class="nc">String</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>
<span class="kd">var</span> <span class="py">versionNumber</span><span class="p">:</span> <span class="nc">String</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>storeName</strong> is the name of the store in which the terminal is configured on the gateway.</p>
</div>
<div class="paragraph">
<p><strong>storeAddress</strong> is the address of the store in which the terminal is configured on the gateway.</p>
</div>
<div class="paragraph">
<p><strong>storeCity</strong> is the city of the store in which the terminal is configured on the gateway.</p>
</div>
<div class="paragraph">
<p><strong>storeZipCode</strong> is the zip code of the store in which the terminal is configured on the gateway.</p>
</div>
<div class="paragraph">
<p><strong>storeLanguage</strong> is the default language of the store in which the terminal is configured on the gateway</p>
</div>
<div class="paragraph">
<p><strong>storeCurrency</strong> is the default currency of the store in which the terminal is configured on the gateway</p>
</div>
<div class="paragraph">
<p><strong>deviceSerialNumber</strong> is the serial number of the sunmi device in which the terminal application is running.</p>
</div>
<div class="paragraph">
<p><strong>versionNumber</strong> is the version number of the terminal application.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
onResult method in TerminalInfoCallback interface is the same as previous callbacks on the other operations
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_technical_support">7. Technical Support</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For technical questions, please contact PayPlaza via <a href="mailto:ecr.developer@payplaza.com">ecr.developer@payplaza.com</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_simulator_test_scenarios">Appendix A: Simulator Test scenarios</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to do a full system test there are several test scenario’s that will result in a response message which is not successful.
These messages are triggered by the usage of the following amounts and the corresponding results are being presented by the simulators PayPlaza created on its development platform.
To make the PayPlaza platform as accurate as possible, PayPlaza has several simulators imitating the behavior of important processors.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The only response code for a successful transaction is SUCCESS.
With all other response codes the transaction has failed.
Other (fail) messages may occur in production environment.
To use contactless flow and error codes are required.
The same codes are used but with a different amount
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">case</p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock">Value</p></th>
<th class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Description</p></th>
<th class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Result Code</p></th>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">All</p></th>
<th class="tableblock halign-left valign-top"><p class="tableblock">Under NFC limit</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">€200,01</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">€20,01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The cardholder has reached the total amount limit of his/her card</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">AMOUNT_EXCEEDED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">€200,02</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">€20,02</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The cardholder does not have enough funds to buy the goods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INSUFFICIENT_FUNDS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">€200,03</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">€20,03</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The issuer was not able to respond in time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AUTHORIZATION_TIMEOUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">€200,04</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">€20,04</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The issuer denies the transaction due to special conditions, i.e., fraud suspect</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AUTHORIZATION_FAILURE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">€200,05</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">€20,05</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The card used is valid but has been blocked, i.e., exceeded the number of PIN tries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CARD_BLOCKED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">€200,06</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">€20,06</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The card used is not valid anymore, i.e., the card is expired</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CARD_INVALID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">€200,07</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">€20,07</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The cardholder has entered a wrong PIN and the processor gives another opportunity to enter it correctly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIN_INCORRECT_RETRY</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">€200,08</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">€20,08</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This case represents the generic error case.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FAILED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">SCA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">€20.90</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The issuer asks for further identification, in this case the PIN is needed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SCA_ADDITION_REQUIRED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">€20.91</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The issuer asks to change the interface used to perform a contact chip transaction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTACT_CHIP_REQUIRED</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
cases 7, 9 and 10 can be performed by sending the corresponding amount from partner application, but PayPlaza terminal application is going to handle the Pin Retry and SCA process by itself. This way, if the process is successful, partner Application will receive SUCCESS as a result code or the corresponding error code otherwise.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As mentioned before, the PayPlaza platform has several different Processor simulators, which try to mimic the real world behavior of actual processors in production.
As a result it should be noted that not all cases are supported by every processor, which will be reflected in the behavior of the processor simulators as stated below.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Case</th>
<th class="tableblock halign-center valign-top">OmniPay Simulator</th>
<th class="tableblock halign-center valign-top">CCV Simulator</th>
<th class="tableblock halign-center valign-top">Equens Simulator</th>
<th class="tableblock halign-center valign-top">SIX Simulator</th>
<th class="tableblock halign-center valign-top">Amex Simulator</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Not Supported</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Not Supported</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Not Supported</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Not Supported</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Not Supported</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Not Supported</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Not Supported</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Not Supported</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Not Supported</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-01-27 17:15:14 +0100
</div>
</div>
</body>
</html>